{"version":3,"sources":["webpack:///./src/views/about/main.js","webpack:///^\\.\\/.*\\.html$?292c","webpack:///./src/views/about/pages/aaa/aaa.html","webpack:///./src/views/about/pages/bbb/bbb.html","webpack:///./src/views/about/pages ^\\.\\/.*\\.js$","webpack:///./src/views/about/pages/aaa/aaa.js","webpack:///./src/views/about/pages/bbb/bbb.js"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAmC;AACnC;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA,sEAAqE,kCAAkC;AACvG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,EAAC;;;AAGD;AACA;AACA,EAAC;AACD;AACA;;AAEA;AACA;AACA,EAAC;;;;;;;;;;;ACvED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAiC,uDAAuD;AACxF;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACfA,yF;;;;;;ACAA,gF;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAiC,uDAAuD;AACxF;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACfA;AACA;AACA;;AAEA;AACA,EAAC;AACD,qB;;;;;;;ACNA;AACA;AACA;AACA;;AAEA;AACA,EAAC;AACD,qB","file":"about.js","sourcesContent":["// require('avalon2');\r\n// require('mmRouter');\r\nrequire('./../../components/header/header.js');\r\nvar root = avalon.define({\r\n\t$id:'app',\r\n\tcontents:\"hello!here is about\",\r\n\talert:'test',\r\n\tcurrPath:'',\r\n\tcurrPage:''\r\n})\r\nvar states = {};\r\n\r\nfunction addState(path, vm, html) {\r\n    states[path] = {\r\n        vm: vm,\r\n        html: html\r\n    }\r\n}\r\navalon.component('ms-view', {\r\n    template: '<div ms-html=\"@page\" class=\"ms-view\"></div>',\r\n    defaults: {\r\n        page: '&nbsp;',\r\n        path: 'no',\r\n        onReady: function(e) {\r\n            var path = e.vmodel.path;\r\n            var state = states[path];\r\n            console.log(states,'ffffff')\r\n            avalon.vmodels[state.vm.$id] = state.vm;\r\n            avalon.vmodels[state.vm.$id].init();\r\n            setTimeout(function() {//必须等它扫描完这个template,才能替换\r\n                e.vmodel.page = state.html\r\n            },100)\r\n        },\r\n        onDispose: function(e) {\r\n            var path = e.vmodel.path;\r\n            var state = states[path];\r\n            var vm = state.vm;\r\n            var render = vm.render;\r\n            render && render.dispose();\r\n            delete avalon.vmodels[vm.$id]\r\n        }\r\n    }\r\n});\r\n\r\nfunction getPage(path) {\r\n    path = path.slice(1);\r\n    var html = '<xmp is=\"ms-view\" class=\"view-container\" ms-widget=\"{path:\\'' + path + '\\',page: @page}\"><xmp>';\r\n    return html\r\n}\r\nvar pages = [\"aaa/aaa\",\"bbb/bbb\"];\r\npages.forEach(function(pathname) {\r\n\tconsole.log(pathname)\r\n    var html = require('text!./pages/' + pathname + '.html');\r\n    var vm = require('./pages/' + pathname + '.js');\r\n    addState(pathname, vm, html);\r\n    avalon.router.add(\"/\"+pathname, function(a) {\r\n    \tconsole.log(this.path)\r\n        root.currPath = this.path;\r\n        root.currPage = getPage(this.path);\r\n    })\r\n});\r\n\r\n\r\navalon.history.start({\r\n    root: \"/aaa/aaa\"\r\n});\r\n// avalon.router.navigate('/bb/second', 0);\r\n// avalon.history.setHash('/bb/second');\r\n\r\navalon.ready(function() {\r\n    avalon.scan(document.body)\r\n});\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/about/main.js\n// module id = 0\n// module chunks = 0","var map = {\n\t\"./aaa/aaa.html\": 5,\n\t\"./bbb/bbb.html\": 6\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\treturn map[req] || (function() { throw new Error(\"Cannot find module '\" + req + \"'.\") }());\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 4;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/about/pages ./~/text-loader!^\\.\\/.*\\.html$\n// module id = 4\n// module chunks = 0","module.exports = \"<div ms-controller=\\\"aaa\\\">\\r\\n\\tthis is aaa of about\\r\\n\\t\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/text-loader!./src/views/about/pages/aaa/aaa.html\n// module id = 5\n// module chunks = 0","module.exports = \"<div controller=\\\"bbb\\\">\\r\\n\\tthis is bbb of about\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/text-loader!./src/views/about/pages/bbb/bbb.html\n// module id = 6\n// module chunks = 0","var map = {\n\t\"./aaa/aaa.js\": 8,\n\t\"./bbb/bbb.js\": 9\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\treturn map[req] || (function() { throw new Error(\"Cannot find module '\" + req + \"'.\") }());\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 7;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/about/pages ^\\.\\/.*\\.js$\n// module id = 7\n// module chunks = 0","var vm = avalon.define({\r\n\t$id:\"aaa\",\r\n\tinit:function(){\r\n\t\t\r\n\t}\r\n})\r\nmodule.exports = vm;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/about/pages/aaa/aaa.js\n// module id = 8\n// module chunks = 0","console.log('bbb')\r\nvar vm = avalon.define({\r\n\t$id:\"bbb\",\r\n\tinit:function(){\r\n\t\t\r\n\t}\r\n})\r\nmodule.exports = vm;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/about/pages/bbb/bbb.js\n// module id = 9\n// module chunks = 0"],"sourceRoot":""}